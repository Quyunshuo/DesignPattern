# 命令模式 - Command Pattern

## 概念

命令模式将"请求"封装成对象，以便使用不同的请求、队列或者日志来参数化其他对象。命令模式也支持可撤销的操纵

## 案例

* 家电自动化遥控器 - 《Head First 设计模式》  
  通过遥控器可以控制一些家电

## 知识点

* 一个命令对象通过在特定接收者上绑定一组动作来封装一个请求。要达到这一点，命令对象将动作和接收者包进对象中。这个对象只暴露出一个execute()
  方法，当此方法被调用的时候，接收者就会进行这些动作。从外面来看，其他对象不知道究竟哪个接收者进行了哪些动作，只知道如果调用execute()方法，请求的目的就能够达到。
* 命令模式将发出请求的对象和执行请求的对象解耦
* 在被解耦的两者之间是通过命令对象进行沟通的。命令对象封装了接收者和一个或一组对象
* 调用者可以接收命令当作参数，甚至在运行时动态地进行
* 命令可以支持撤销，做法是实现一个undo()方法来回到execute()被执行前的状态
* 宏命令是命令的一种简单的延伸，允许调用多个命令。宏方法也可以支持撤销
* 命令可以将运算块打包（一个接收者和一组动作），然后将它传来传去，就像是一般的对象一样。现在，即使在命令对象被创建许久之后，运算依然可以被调用。事实上，它甚至可以在不同的线程中被调用。我们可以利用这样的特性衍生出一些应用，例如：日程安排、线程池、工作队列等。