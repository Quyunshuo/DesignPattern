# 状态模式 - State Pattern

## 概念

状态模式允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类

## 案例

* 糖果机 - 《Head First 设计模式》

# 知识点

* 这个模式将状态封装成独立的类，并将动作委托到代表当前状态的类，行为会随着内部状态而改变
* State接口定义了一个所有具体状态的共同接口；任何状态都实现这个相同的接口，这样一来，状态之间可以互相替换
* 以状态模式而言，我们将一群行为封装在状态对象中，context的行为随时可委托到那些状态对象中的一个。随着时间的流逝，当前状态在状态对象集合之间游走改变，以反映出context内部的状态，因此，context的行为也会跟着改变。但是context的客户对于状态对象了解不多，甚至根本是浑然不觉
* 我们把状态模式想成是不用在context中放置许多条件判断的替代方案。通过将行为包装进状态对象中，你可以通过在context内简单地改变状态对象来改变context的行为
* 状态模式和策略模式有着相同的类图，但是它们的意图不同
* 通过将每个状态封装近一个类，我们把以后需要做的任何改变局部化了
* 使用状态模式通常会导致设计中类的数目大量增加