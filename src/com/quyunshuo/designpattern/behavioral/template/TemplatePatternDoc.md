# 模板方法模式 - Template Pattern

## 概念

模板方法模式在一个方法中定义一个算法的骨架，而将一些步骤延迟到了子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。

## 案例

* 星巴兹咖啡师傅训练手册 - 《Head First 设计模式》  
  使用模板模式封装咖啡和茶的冲泡步骤算法 原始的训练手册
    * 星巴兹咖啡冲泡法
        * 把水煮沸
        * 用沸水冲泡咖啡
        * 把咖啡倒进杯子
        * 加糖的牛奶
    * 星巴兹茶冲泡法
        * 把水煮沸
        * 用沸水浸泡茶叶
        * 把茶倒进杯子
        * 加柠檬

# 知识点

* 我们也可以有"默认不做事的方法"，我们称这个方法为"hook"（钩子🪝）。子类可以视情况决定要不要覆盖它们。
* 钩子是一种被声明在抽象类中的方法，但只有空的或默认的实现。钩子的存在，可以让子类有能力对算法的不同点进行挂钩。要不要挂钩，由子类自行决定。
* 创建一个模板方法时，怎么才知道什么时候该使用抽象方法，什么时候使用钩子？
    * 当子类"必须"提供算法中的某个方法或步骤的实现时，就使用抽象方法。
    * 如果算法的这个部分是可选的，就使用钩子。如果是钩子的话，子类可以选择实现这个钩子，但并不强制这么做。
* 使用钩子真正的目的是什么？
    * 钩子有几种用法。钩子可以让子类实现算法中可选的部分，或者在钩子对于子类的实现并不重要的时候，子类可以对钩子置之不理。
    * 钩子的另一个用法，是让子类能够有机会对模板方法中某些即将发生的（或刚刚发生的）步骤作出反应。
    * 钩子也可以让子类有能力为其抽象类作一些决定。
* 子类必须实现抽象类中的所有方法吗？
    * 使得，每一个具体的子类都必须定义所有的抽象方法，并为模板方法算法中未定义步骤提供完整的实现。
* 似乎我应该保持抽象方法的数目越少越好，否则，在子类中实现这些方法将会很麻烦
    * 当你在写模板方法的时候，心里要随时记得这一点。想要做到这一点，可以让算法内的步骤不要切割得太细，但是如果步骤太少的话，会比较没有弹性，所以要使情况折衷。
    * 也请记住，某些步骤是可选的，所以你可以将这些步骤实现成钩子，而不是实现成抽象方法，这样可以让抽象类的子类的负荷减轻。
*